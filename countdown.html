<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      p {
        display: inline;
        font-size: 40px;
        margin-top: 0px;
      }
    </style>
  </head>
  <body>
    <p id="years"></p>
    <p id="months"></p>
    <p id="days"></p>
    <p id="hours"></p>
    <p id="mins"></p>
    <p id="secs"></p>
    <h2 id="end"></h2>
    <script>
      // Month in JavaScript is 0-indexed (January is 0, February is 1, etc),
      // but by using 0 as the day it will give us the last day of the prior
      // month. So passing in 1 as the month number will return the last day
      // of January, not February
      function daysInMonth(month, year) {
        return new Date(year, month, 0).getDate();
      }
      function monthsInYear(year) {
        if (year === new Date().getFullYear()) {
          return new Date().getMonth() + 1;
        }
        return 1;
      }
      function daysInCurrentMonth(year, month) {
        if (year === new Date().getFullYear() && month === new Date().getMonth() + 1) {
            return new Date().getDate();
        }
        return 1;
      }
      function hoursInCurrentDate(year, month, date) {
        if (year === new Date().getFullYear() && month === new Date().getMonth() + 1 && date === new Date().getDate()) {
            return new Date().getHours();
        }
        return 0;
      }
      function minutesInCurrentHour(year, month, date, hour) {
        if (year === new Date().getFullYear() && month === new Date().getMonth() + 1 && date === new Date().getDate() && hour === new Date().getHours()) {
            return new Date().getMinutes();
        }
        return 0;
      }

      // The data/time we want to countdown to
      var yearNumber, monthNumber, dateNumber, hourNumber, minuteNumber;
      //   year
      do {
        yearNumber = parseInt(prompt("Year?", new Date().getFullYear()));
      } while (isNaN(yearNumber) || yearNumber < new Date().getFullYear());
      // month
      do {
        monthNumber = parseInt(prompt("Month?", new Date().getMonth() + 1));
      } while (isNaN(monthNumber) || monthNumber < monthsInYear(yearNumber) || monthNumber > 13);
      // date
      do {
        dateNumber = parseInt(prompt("Day?", new Date().getDate()));
      } while (isNaN(dateNumber) || dateNumber < daysInCurrentMonth(yearNumber, monthNumber) || dateNumber > daysInMonth(monthNumber - 1, yearNumber));
      // hours
      do {
        hourNumber = parseInt(prompt("Hour?", new Date().getHours()));
      } while (isNaN(hourNumber) || hourNumber < hoursInCurrentDate(yearNumber, monthNumber, dateNumber) || hourNumber > 23);
      // minutes
      do {
        minuteNumber = parseInt(prompt("Minute?", new Date().getMinutes()));
      } while (isNaN(minuteNumber) || minuteNumber < minutesInCurrentHour(yearNumber, monthNumber, dateNumber, hourNumber) || minuteNumber > 59);
      //   countdown date
      var countDownDate = new Date(`${monthNumber} ${dateNumber}, ${yearNumber} ${hourNumber}:${minuteNumber}:00`).getTime();

      // Run myfunc every second
      var myfunc = setInterval(function () {
        var now = new Date().getTime();
        var timeleft = countDownDate - now;

        // Calculating the days, hours, minutes and seconds left
        var days = Math.floor(timeleft / (1000 * 60 * 60 * 24));
        var hours = Math.floor((timeleft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((timeleft % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((timeleft % (1000 * 60)) / 1000);

        // Result is output to the specific element
        days != 0 ? document.getElementById("days").innerHTML = days + " days : " : document.getElementById("days").hidden;
        hours != 0 ? document.getElementById("hours").innerHTML = hours + " hours : " : document.getElementById("hours").hidden;
        minutes != 0 ? document.getElementById("mins").innerHTML = minutes + " minutes : " : document.getElementById("minutes").hidden;
        document.getElementById("secs").innerHTML = seconds + " seconds";

        // Display the message when countdown is over
        if (timeleft < 0) {
          clearInterval(myfunc);
          document.getElementById("days").innerHTML = "";
          document.getElementById("hours").innerHTML = "";
          document.getElementById("mins").innerHTML = "";
          document.getElementById("secs").innerHTML = "";
          document.getElementById("end").innerHTML = "TIME UP!!";
        }
      }, 1000);
    </script>
  </body>
</html>
